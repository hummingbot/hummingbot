{"version":3,"file":"AlertCard.js","sources":["../src/AlertCard/AlertCard.tsx"],"sourcesContent":["/** @jsx jsx */\nimport { jsx, ClassNames } from \"@emotion/core\";\nimport React, { CSSProperties, Fragment, useMemo } from \"react\";\nimport PropTypes from \"prop-types\";\nimport classnames from \"classnames\";\n\nimport { base } from \"../typography\";\nimport { IconClose } from \"../icons/IconClose\";\nimport { colors } from \"../colors\";\nimport { assertUnreachable } from \"../shared/assertUnreachable\";\nimport { IconInfoSolid } from \"../icons/IconInfoSolid\";\nimport { IconWarningSolid } from \"../icons/IconWarningSolid\";\nimport { IconErrorSolid } from \"../icons/IconErrorSolid\";\nimport { IconSuccessSolid } from \"../icons/IconSuccessSolid\";\n\ninterface AlertCardProps {\n  /**\n   * color theme for alert\n   * @default \"light\"\n   */\n  theme?: \"light\" | \"dark\";\n\n  heading: React.ReactNode;\n\n  /**\n   * actions could be a button\n   * or a tooltip or anything the Alert should display after the children\n   */\n  actions?: React.ReactNode;\n\n  /**\n   * The content of the card, appears below the title\n   */\n  children?: React.ReactNode;\n\n  /**\n   * Override how the `header` is rendered. You can pass either an intrinisic\n   * jsx element as a string (like \"h1\") or a react element (`<h1 />`)\n   *\n   * If you pass a react element, props that we add are spread onto the input.\n   *\n   * @default \"h2\"\n   */\n  headingAs?: React.ReactElement | keyof JSX.IntrinsicElements;\n\n  /**\n   * callback for handling the clicks on the close button.\n   */\n  onClose: () => void;\n\n  /**\n   * layout for longer content\n   *\n   * @default false\n   */\n  extended?: boolean;\n\n  className?: string;\n  style?: CSSProperties;\n\n  /**\n   * Type of alert, this is used to determine the color and icon in the title\n   */\n  type: \"info\" | \"warn\" | \"error\" | \"success\";\n}\n\nexport const AlertCard: React.FC<AlertCardProps> = ({\n  heading,\n  onClose,\n  actions,\n  headingAs = \"h2\",\n  children,\n  theme = \"light\",\n  extended = false,\n  type,\n  ...otherProps\n}) => {\n  const { Icon, color: colorTemp } = useMemo(() => {\n    switch (type) {\n      case \"info\":\n        return { color: colors.blue, Icon: IconInfoSolid };\n      case \"warn\":\n        return { color: colors.orange, Icon: IconWarningSolid };\n      case \"error\":\n        return { color: colors.red, Icon: IconErrorSolid };\n      case \"success\":\n        return { color: colors.green, Icon: IconSuccessSolid };\n      default:\n        assertUnreachable(type);\n    }\n  }, [type]);\n  return (\n    <section\n      {...otherProps}\n      css={{\n        backgroundColor:\n          theme === \"light\"\n            ? colors.white\n            : theme === \"dark\"\n            ? colors.black.lighter\n            : assertUnreachable(theme),\n        color:\n          theme === \"light\"\n            ? colors.black.base\n            : theme === \"dark\"\n            ? colors.white\n            : assertUnreachable(theme),\n        boxShadow: `0 4px 8px 0 rgba(0, 0, 0, .04)`,\n        borderStyle: \"solid\",\n        borderRadius: 4,\n        borderWidth:\n          theme === \"light\"\n            ? 1\n            : theme === \"dark\"\n            ? 0\n            : assertUnreachable(theme),\n        borderColor: colors.silver.dark,\n        padding: 15,\n      }}\n    >\n      <div\n        css={{\n          marginBottom: extended ? 14 : 6,\n          overflow: \"hidden\",\n          display: \"flex\",\n        }}\n      >\n        <ClassNames>\n          {({ css, cx }) => {\n            const headingProps = {\n              className: cx(\n                css({\n                  fontWeight: 600,\n                  marginBottom: 0,\n                  marginTop: 0,\n                  width: \"100%\",\n                  display: \"flex\",\n                  color:\n                    theme === \"light\"\n                      ? colorTemp.darker\n                      : theme === \"dark\"\n                      ? colorTemp.lighter\n                      : assertUnreachable(theme),\n                  ...base.base,\n                })\n              ),\n              children: (\n                <Fragment>\n                  <Icon\n                    css={{\n                      width: 20,\n                      height: 20,\n                      color: colorTemp.base,\n                      marginRight: 13,\n                      \"& .inner\": theme === \"dark\" &&\n                        type !== \"warn\" && { fill: colors.white },\n                    }}\n                  />\n                  {heading}\n                </Fragment>\n              ),\n            };\n\n            return React.isValidElement(headingAs)\n              ? React.cloneElement(headingAs, {\n                  ...headingProps,\n                  className: classnames(\n                    headingProps.className,\n                    headingAs.props.className\n                  ),\n                })\n              : React.createElement(headingAs, headingProps);\n          }}\n        </ClassNames>\n        <IconClose\n          onClick={onClose}\n          css={{\n            color: colors.grey.lighter,\n            cursor: \"pointer\",\n            width: 10,\n            height: 10,\n          }}\n        />\n      </div>\n\n      {extended && (\n        <hr\n          css={{\n            height: 1,\n            borderWidth: 0,\n            backgroundColor:\n              theme === \"light\"\n                ? colors.silver.dark\n                : theme === \"dark\"\n                ? colors.grey.dark\n                : assertUnreachable(theme),\n            marginTop: 14,\n            marginBottom: 14,\n          }}\n        />\n      )}\n      <div css={{ marginLeft: extended ? 0 : 33 }}>\n        <div\n          css={{\n            ...base.small,\n            marginBottom: actions ? 13 : 0,\n          }}\n        >\n          {children}\n        </div>\n\n        {actions}\n      </div>\n    </section>\n  );\n};\n\nAlertCard.propTypes = {\n  extended: PropTypes.bool,\n  onClose: PropTypes.func.isRequired,\n  children: PropTypes.node,\n  heading: PropTypes.node.isRequired,\n  actions: PropTypes.node,\n  type: PropTypes.oneOf([\"info\", \"warn\", \"error\", \"success\"] as const)\n    .isRequired,\n  headingAs: PropTypes.oneOfType([\n    PropTypes.element.isRequired,\n    PropTypes.string.isRequired as any, // Using PropTypes.string to match keyof JSX.IntrinsicElements\n  ]),\n};\n"],"names":["useMemo","colors","IconInfoSolid","IconWarningSolid","IconErrorSolid","IconSuccessSolid","assertUnreachable","jsx","ClassNames","base.base","Fragment","React","IconClose","base.small"],"mappings":"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"}