{"version":3,"file":"mouseRestPlugin.js","sources":["../../src/Tooltip/tooltip/mouseRestPlugin.ts"],"sourcesContent":["import { Instance } from \"tippy.js\";\n\n// @see https://atomiks.github.io/tippyjs/misc/#onmouserest-implementation\n\nexport const mouseRest = {\n  name: \"mouseRest\",\n  defaultValue: false,\n  fn(instance: Instance) {\n    const { reference } = instance;\n    const DEBOUNCE_MS = 80;\n\n    let timeout: number | undefined;\n\n    // If the `trigger` isn't `\"mouseenter\"`, then this plugin doesn't apply.\n    function getIsEnabled() {\n      const isEnabled =\n        !instance.props.interactive &&\n        instance.props.trigger.indexOf(\"mouseenter\") !== -1;\n\n      return isEnabled;\n    }\n\n    return {\n      onCreate() {\n        if (!getIsEnabled()) {\n          return;\n        }\n\n        const triggerWithoutMouseEnter = instance.props.trigger\n          .replace(\"mouseenter\", \"\")\n          .trim();\n\n        instance.setProps({ trigger: triggerWithoutMouseEnter });\n\n        reference.addEventListener(\"mousemove\", () => {\n          clearTimeout(timeout);\n          timeout = window.setTimeout(() => instance.show(), DEBOUNCE_MS);\n        });\n\n        reference.addEventListener(\"mouseleave\", () => {\n          clearTimeout(timeout);\n          instance.hide();\n        });\n      },\n      onDestroy() {\n        clearTimeout(timeout);\n      },\n    };\n  },\n};\n"],"names":[],"mappings":";;;;AAEA;AAEA,IAAa,SAAS,GAAG;IACvB,IAAI,EAAE,WAAW;IACjB,YAAY,EAAE,KAAK;IACnB,EAAE,EAAF,UAAG,QAAkB;QACX,IAAA,SAAS,GAAK,QAAQ,UAAb,CAAc;QAC/B,IAAM,WAAW,GAAG,EAAE,CAAC;QAEvB,IAAI,OAA2B,CAAC;;QAGhC,SAAS,YAAY;YACnB,IAAM,SAAS,GACb,CAAC,QAAQ,CAAC,KAAK,CAAC,WAAW;gBAC3B,QAAQ,CAAC,KAAK,CAAC,OAAO,CAAC,OAAO,CAAC,YAAY,CAAC,KAAK,CAAC,CAAC,CAAC;YAEtD,OAAO,SAAS,CAAC;SAClB;QAED,OAAO;YACL,QAAQ;gBACN,IAAI,CAAC,YAAY,EAAE,EAAE;oBACnB,OAAO;iBACR;gBAED,IAAM,wBAAwB,GAAG,QAAQ,CAAC,KAAK,CAAC,OAAO;qBACpD,OAAO,CAAC,YAAY,EAAE,EAAE,CAAC;qBACzB,IAAI,EAAE,CAAC;gBAEV,QAAQ,CAAC,QAAQ,CAAC,EAAE,OAAO,EAAE,wBAAwB,EAAE,CAAC,CAAC;gBAEzD,SAAS,CAAC,gBAAgB,CAAC,WAAW,EAAE;oBACtC,YAAY,CAAC,OAAO,CAAC,CAAC;oBACtB,OAAO,GAAG,MAAM,CAAC,UAAU,CAAC,cAAM,OAAA,QAAQ,CAAC,IAAI,EAAE,GAAA,EAAE,WAAW,CAAC,CAAC;iBACjE,CAAC,CAAC;gBAEH,SAAS,CAAC,gBAAgB,CAAC,YAAY,EAAE;oBACvC,YAAY,CAAC,OAAO,CAAC,CAAC;oBACtB,QAAQ,CAAC,IAAI,EAAE,CAAC;iBACjB,CAAC,CAAC;aACJ;YACD,SAAS;gBACP,YAAY,CAAC,OAAO,CAAC,CAAC;aACvB;SACF,CAAC;KACH;CACF;;;;"}